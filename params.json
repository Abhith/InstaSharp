{"name":"Instasharp","tagline":"A c# wrapper for the Instagram API","body":"# InstaSharp\r\n\r\n[![Join the chat at https://gitter.im/InstaSharp/InstaSharp](https://badges.gitter.im/Join%20Chat.svg)](https://gitter.im/InstaSharp/InstaSharp?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)\r\n\r\nInstaSharp is a wrapper around the Instagram API.  It's goal is to provide you with a clean and neat interface for ineracting with Instagram's data services, while taking care of all the lower level things like HTTP requests, OAuth flow, and mapping the JSON request to .NET classes.\r\n\r\n[![Build status](https://ci.appveyor.com/api/projects/status/ch334xwq15i9pcum)](https://ci.appveyor.com/project/Fujiy/instasharp)\r\n\r\n###Where do I get support?\r\n\r\nBugs, Feature Requests and Discussion at [github.com/InstaSharp/InstaSharp/issues](https://github.com/InstaSharp/InstaSharp/issues) or on [Stack Overflow](http://stackoverflow.com/questions/tagged/instasharp). Feel free to submit Pull Requests on GitHub.\r\n\r\n###Where is the current documentation?\r\n\r\nSee [Documentation](http://instasharp.github.io/InstaSharp/Documentation/index.html)\r\n\r\n## Getting Started\r\n\r\n### Register Your Application \r\n \r\nTo get started, you will need to register an application with Instagram.  They will provide you with a client id, and a client secret.  They will additionally ask you for a callback URL. This is simply a URL that your browser will redirect back to during the Instagram Auth flow.\r\n\r\n### The InstagramConfig Class\r\n\r\nNow that you have registered an application, you need to create an instance of the InstagramConfig class.  This class has many of the options specified for you already, with optional overrides.\r\n\r\n\tvar clientId = ConfigurationManager.AppSettings[\"client_id\"];\r\n\tvar clientSecret = ConfigurationManager.AppSettings[\"client_secret\"];\r\n\tvar redirectUri = ConfigurationManager.AppSettings[\"redirect_uri\"];\r\n\tvar realtimeUri = \"\";\r\n\r\n\tInstagramConfig config = new InstagramConfig(clientId, clientSecret, redirectUri, realtimeUri);\r\n\r\n### Authenticate\r\n\r\nUse the OAuth class to authenticate. It provides a helper to give you the initial link for handing users off to Instagram for authentication.  It will want to know what level of access you are requesting via the \"scope\".\r\n\r\n\t@{\r\n\t    // create the auth url\r\n\t    var scopes = new List<OAuth.Scope>();\r\n\t    scopes.Add(OAuth.Scope.Likes);\r\n\t    scopes.Add(OAuth.Scope.Comments);\r\n\r\n\r\n\t    var link = OAuth.AuthLink(config.OAuthUri + \"authorize\", config.ClientId, config.RedirectUri, scopes, OAuth.ResponseType.Code);\r\n\t}\r\n\r\nNow Instagram will athenticate the user on their end and callback to your callback url.  When you receive that callback, you need to respond with your client secret.  Instagram will then respond to that request with the authorization token.\r\n\r\n    [GET(\"oauth\")]\r\n    public async Task<ActionResult> Index(string code)\r\n    {\r\n        // add this code to the auth object\r\n        var auth = new InstaSharp.OAuth(config);\r\n        \r\n        // now we have to call back to instagram and include the code they gave us\r\n        // along with our client secret\r\n        var oauthResponse = await auth.RequestToken(code);\r\n\r\n        // tell the session that we are authenticated\r\n        config.isAuthenticated = true;\r\n\r\n        // both the client secret and the token are considered sensitive data, so we won't be\r\n        // sending them back to the browser. we'll only store them temporarily.  If a user's session times\r\n        // out, they will have to click on the authenticate button again - sorry bout yer luck.\r\n        Session.Add(\"InstaSharp.AuthInfo\", oauthResponse);\r\n\r\n        // all done, lets redirect to the home controller which will send some intial data to the app\r\n        return RedirectToAction(\"Index\", \"Home\");\r\n    }\r\n\r\nNow you are authenticated and ready to call the Instagram Endpoints.  Instasharp carves these up under the \"endpoints\" namespace.  Each one is a class and will be expecting a configuration object and an OAuthResponse object.  For instance, you can request a user's feed as such...\r\n\r\n\treadonly InstaSharp.Endpoints.Users _users;\r\n\r\n    public UsersController()\r\n    {\r\n        users = new Endpoints.Users(config, oauthResponse);\r\n    }\r\n\r\n    [GET(\"api/users/feed\")]\r\n    public async Task<ActionResult> Feed(string next_max_id)\r\n    {\r\n        var feed = next_max_id == null ? await users.Feed() : await users.Feed(next_max_id);\r\n\r\n        // return plain JSON\r\n        return Json(result.Data);\r\n    }\r\n\r\nEach response returned by InstaSharp will contains two objects: a Meta object, and a \"Data\" property that has the reponse fully mapped to .NET types.\r\n\r\nThe InstaSharp library embeds the documentation of Instagram into the code.  Each endpoint method will tell you if it requires authentication, and what parameters it needs.\r\n","google":"UA-51167170-1","note":"Don't delete this file! It's used internally to help with page regeneration."}